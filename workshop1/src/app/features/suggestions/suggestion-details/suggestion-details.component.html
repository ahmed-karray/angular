<div class="details-container">
    <!-- Bouton retour -->
    <div class="details-header">
        <button (click)="goBackToList()" class="btn-back">
            â† Retour Ã  la liste
        </button>
    </div>

    <!-- Indicateur de chargement -->
    <div *ngIf="loading" class="loading-container">
        <div class="spinner"></div>
        <p>Chargement...</p>
    </div>

    <!-- Message d'erreur -->
    <div *ngIf="error && !loading" class="error-container">
        <h3>âŒ Erreur</h3>
        <p>{{ error }}</p>
        <button (click)="loadSuggestion()" class="btn-retry">RÃ©essayer</button>
        <button (click)="goBackToList()" class="btn-back">Retour Ã  la liste</button>
    </div>

    <!-- DÃ©tails de la suggestion -->
    <div *ngIf="suggestion && !loading && !error" class="details-card" [ngClass]="{
         'status-accepted': suggestion.status === 'acceptee',
         'status-refused': suggestion.status === 'refusee',
         'status-pending': suggestion.status === 'en_attente'
       }">

        <!-- Titre -->
        <h2 class="suggestion-title">{{ suggestion.title }}</h2>

        <!-- Description -->
        <div class="details-section">
            <h3>Description</h3>
            <p>{{ suggestion.description }}</p>
        </div>

        <!-- Informations -->
        <div class="details-info">
            <div class="info-item">
                <strong>CatÃ©gorie</strong>
                <span class="category-badge">{{ suggestion.category }}</span>
            </div>

            <div class="info-item">
                <strong>Date de soumission</strong>
                <span class="date-text">{{ suggestion.date | date:'dd/MM/yyyy' }}</span>
            </div>

            <div class="info-item">
                <strong>Statut</strong>
                <span class="status-badge" [ngClass]="getStatusClass()">
                    {{ getStatusLabel() }}
                </span>
            </div>

            <div class="info-item">
                <strong>Nombre de likes</strong>
                <span class="likes-count">ğŸ‘ {{ suggestion.nbLikes }}</span>
            </div>
        </div>

        <!-- Actions -->
        <div class="details-actions">
            <button *ngIf="suggestion.status !== 'refusee'" class="btn-primary" (click)="likeSuggestion()">
                ï¿½ J'aime cette suggestion
            </button>

            <button class="btn-warning" (click)="editSuggestion()">
                âœï¸ Modifier
            </button>

            <button class="btn-danger" (click)="deleteSuggestion()">
                ğŸ—‘ï¸ Supprimer
            </button>
        </div>

        <!-- Notice de refus -->
        <div *ngIf="suggestion.status === 'refusee'" class="refusal-notice">
            <p>âš ï¸ Cette suggestion a Ã©tÃ© refusÃ©e et n'est plus active.</p>
        </div>
    </div>

    <!-- Message si suggestion non trouvÃ©e -->
    <div *ngIf="!suggestion && !loading && !error" class="error-container">
        <h3>âŒ Suggestion non trouvÃ©e</h3>
        <p>La suggestion avec l'ID {{ suggestionId }} n'existe pas.</p>
        <button (click)="goBackToList()" class="btn-back">
            â† Retour Ã  la liste
        </button>
    </div>
</div>